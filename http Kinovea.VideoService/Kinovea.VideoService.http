@Kinovea.VideoService_HostAddress = http://localhost:5021

### 测试变量定义
@bucketName = kinovea
@objectName = jump.mp4
@sessionId = {{createSession.response.body}}

### 1. 创建播放会话
# @name createSession
POST {{Kinovea.VideoService_HostAddress}}/api/player/session
Content-Type: application/json

{
  "bucketName": "{{bucketName}}",
  "objectName": "{{objectName}}"
}

###

### 2. 获取视频基本信息 (使用上面创建的sessionId)
# @name getVideoInfo  
GET {{Kinovea.VideoService_HostAddress}}/api/player/info/{{createSession.response.body}}
Accept: application/json

###

### 3. 获取第一帧 (帧索引 0)
# @name getFirstFrame
GET {{Kinovea.VideoService_HostAddress}}/api/player/frame/{{createSession.response.body}}?targetFrame=0
Accept: application/json

###

### 4. 获取第10帧
# @name getFrame10
GET {{Kinovea.VideoService_HostAddress}}/api/player/frame/{{createSession.response.body}}?targetFrame=10
Accept: application/json

###

### 5. 获取第100帧
# @name getFrame100
GET {{Kinovea.VideoService_HostAddress}}/api/player/frame/{{createSession.response.body}}?targetFrame=100
Accept: application/json

###

### 6. 批量获取帧信息 (第1-20帧)
# @name getBatchFrames
GET {{Kinovea.VideoService_HostAddress}}/api/player/frames/{{createSession.response.body}}/batch?startFrame=1&endFrame=20
Accept: application/json

###

### 7. 检查会话是否活跃 (需要先实现该接口)
# @name checkSession
GET {{Kinovea.VideoService_HostAddress}}/api/player/session/{{createSession.response.body}}/status
Accept: application/json

###

### 8. 关闭会话
# @name closeSession
DELETE {{Kinovea.VideoService_HostAddress}}/api/player/session/{{createSession.response.body}}

###

### ============ 错误场景测试 ============

### 9. 测试不存在的文件
# @name testFileNotFound
POST {{Kinovea.VideoService_HostAddress}}/api/player/session
Content-Type: application/json

{
  "bucketName": "{{bucketName}}",
  "objectName": "non-existent-file.mp4"
}

###

### 10. 测试无效的会话ID
# @name testInvalidSession
GET {{Kinovea.VideoService_HostAddress}}/api/player/info/invalid-session-id
Accept: application/json

###

### 11. 测试超出范围的帧索引
# @name testOutOfRangeFrame
GET {{Kinovea.VideoService_HostAddress}}/api/player/frame/{{createSession.response.body}}?targetFrame=999999
Accept: application/json

###

### ============ 旧版本单次调用接口测试 ============

### 12. 测试单次帧获取接口 (不使用会话)
# @name getSingleFrame
POST {{Kinovea.VideoService_HostAddress}}/api/player/frame
Content-Type: application/json

{
  "bucketName": "{{bucketName}}",
  "objectName": "{{objectName}}",
  "currentFrame": 0,
  "targetFrame": 5
}

###

### ============ 完整工作流程示例 ============

### 示例：完整的视频播放会话流程
# 1. 创建会话
# @name workflowSession
POST {{Kinovea.VideoService_HostAddress}}/api/player/session
Content-Type: application/json

{
  "bucketName": "test-videos",
  "objectName": "demo.mp4"
}

###

# 2. 获取视频信息
GET {{Kinovea.VideoService_HostAddress}}/api/player/info/{{workflowSession.response.body}}
Accept: application/json

###

# 3. 获取前几帧进行预览
GET {{Kinovea.VideoService_HostAddress}}/api/player/frame/{{workflowSession.response.body}}?targetFrame=0

###

GET {{Kinovea.VideoService_HostAddress}}/api/player/frame/{{workflowSession.response.body}}?targetFrame=1

###

GET {{Kinovea.VideoService_HostAddress}}/api/player/frame/{{workflowSession.response.body}}?targetFrame=2

###

# 4. 批量获取帧信息用于时间轴显示
GET {{Kinovea.VideoService_HostAddress}}/api/player/frames/{{workflowSession.response.body}}/batch?startFrame=0&endFrame=50
Accept: application/json

###

# 5. 跳转到中间帧
GET {{Kinovea.VideoService_HostAddress}}/api/player/frame/{{workflowSession.response.body}}?targetFrame=25

###

# 6. 清理会话
DELETE {{Kinovea.VideoService_HostAddress}}/api/player/session/{{workflowSession.response.body}}

###